{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/column/column.component.html","./src/app/components/button/button.component.html","./src/app/components/circle/circle.component.html","./src/app/components/editable-wrapper/editable-wrapper.component.html","./src/app/main/main.component.html","./src/app/operator-widget/operator-widget.component.html","./src/app/step/step.component.html","./src/app/view-widget/json-view/json-view.component.html","./src/app/view-widget/textarea-view/textarea-view.component.html","./src/app/view-widget/view-widget.component.html","./src/app/app-routing.module.ts","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/column/column.component.scss","./src/app/column/column.component.ts","./src/app/components/button/button.component.scss","./src/app/components/button/button.component.ts","./src/app/components/circle/circle.component.scss","./src/app/components/circle/circle.component.ts","./src/app/components/editable-wrapper/editable-wrapper.component.scss","./src/app/components/editable-wrapper/editable-wrapper.component.ts","./src/app/main/main.component.scss","./src/app/main/main.component.ts","./src/app/operator-widget/operator-widget.component.scss","./src/app/operator-widget/operator-widget.component.ts","./src/app/s/Step.ts","./src/app/s/View.ts","./src/app/s/mockSteps.ts","./src/app/s/operators.ts","./src/app/s/operators/csv-split.ts","./src/app/s/operators/handlebars-template.ts","./src/app/s/operators/regex-match-rename.ts","./src/app/s/runtime.service.ts","./src/app/s/steps.service.ts","./src/app/step/step.component.scss","./src/app/step/step.component.ts","./src/app/view-widget/json-view/json-view.component.scss","./src/app/view-widget/json-view/json-view.component.ts","./src/app/view-widget/textarea-view/textarea-view.component.scss","./src/app/view-widget/textarea-view/textarea-view.component.ts","./src/app/view-widget/view-widget.component.scss","./src/app/view-widget/view-widget.component.ts","./src/constants.ts","./src/environments/environment.ts","./src/main.ts","./src/media.ts","./src/utils.ts"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<nav class=\\\"navbar navbar-expand-lg fixed-top\\\">\\n  <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Swiss-String</a>\\n  <a class=\\\"btn\\\" href=\\\"#\\\">View</a>\\n  <!-- Toggle Data Flow Lines -->\\n  <!-- Toggle Data Operators -->\\n  <!-- Toggle Edit buttons -->\\n  <span class=\\\"filler\\\"></span>\\n  <a class=\\\"btn\\\" href=\\\"#\\\">Save</a>\\n  <a class=\\\"btn\\\" href=\\\"#\\\">Load</a>\\n\\n</nav>\\n<div class=\\\"main\\\">\\n  <app-main [style.padding]=\\\"(isMobile ? 8 : 20) + 'px'\\\"></app-main>\\n</div>\\n\"","module.exports = \"<app-view-widget\\n  *ngIf=\\\"viewWidget != null\\\" [stepID]=\\\"stepID\\\" [index]=\\\"index\\\"\\n  [viewWidget]=\\\"viewWidget\\\"\\n  [isOrganizeMode]=\\\"editMode === StepEditMode.ORGANIZE\\\"\\n  [attr.data-entity-id]=\\\"viewWidget.id\\\"\\n  [attr.data-entity-name]=\\\"viewWidget.view.name\\\"\\n>\\n</app-view-widget>\\n\\n<app-operator-widget\\n  *ngIf=\\\"operatorWidget != null\\\" [stepID]=\\\"stepID\\\" [index]=\\\"index\\\"\\n  [operatorWidget]=\\\"operatorWidget\\\"\\n  [isOrganizeMode]=\\\"editMode === StepEditMode.ORGANIZE\\\"\\n>\\n</app-operator-widget>\\n\"","module.exports = \"<button class=\\\"btn btn-primary\\\" style=\\\"padding-left: 40px; padding-right: 40px; \\\">\\n  <ng-content></ng-content>\\n</button>\\n\"","module.exports = \"\"","module.exports = \"<input type=\\\"text\\\" *ngIf=\\\"isEdit\\\" [value]=\\\"value\\\" (blur)=\\\"onEditorBlur()\\\" #editor\\n  (keyup.enter)=\\\"onEditorEnter()\\\">\\n<span *ngIf=\\\"!isEdit\\\" (click)=\\\"onContentClicked()\\\" (mouseenter)=\\\"onMouseEnterLabel()\\\" [class.wide]=\\\"wide\\\"\\n  (mouseleave)=\\\"onMouseLeaveLabel()\\\">\\n  {{value}}\\n  <fa-icon [icon]=\\\"faEdit\\\" *ngIf=\\\"isLabelOver\\\"></fa-icon>\\n</span>\\n\\n\"","module.exports = \"<div class=\\\"steps-editor\\\">\\n  <div class=\\\"back\\\" #back>\\n    <!-- <svg width=\\\"200\\\" height=\\\"200\\\" #graph>\\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"5\\\" fill=\\\"green\\\" />\\n    </svg> -->\\n  </div>\\n  <div class=\\\"front\\\" #front>\\n    <app-step *ngFor=\\\"let step of steps; let i = index; trackBy: trackItem\\\" [step]=\\\"step\\\" [itemIndex]=\\\"i\\\"\\n      [isNextStop]=\\\"(step.type==='view' && i+1 < steps.length && steps[i+1].type !==step.type)\\\"></app-step>\\n    <div *ngIf=\\\"steps.length <= 0\\\">\\n      <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\n        <fa-icon [icon]=\\\"faInfoCircle\\\"></fa-icon>\\n        Start by pressing \\\"Add step\\\", or press \\\"Load\\\" from the corner.\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body indented-card-body\\\">\\n    <app-button (click)=\\\"onClickAddStep()\\\">Add step</app-button>\\n  </div>\\n</div>\\n\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n    <h5>stepsJSON</h5>\\n    <textarea style=\\\"width:100%; max-width:500px; height: 200px;\\\">{{stepsJSON}}</textarea>\\n  </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"operator\\\">\\n  <div class=\\\"column-input operator-parameter-container\\\">\\n    <div class=\\\"operator-parameter\\\" *ngFor=\\\"let input of inputs\\\" [attr.data-entity-id]=\\\"input.id\\\"\\n      [attr.data-entity-name]=\\\"input.contextName\\\">\\n      <span class=\\\"debug-entity-id\\\">[{{input.id}}]{{' '}}</span>\\n      {{input.contextName}}\\n    </div>\\n  </div>\\n  <div class=\\\"operator-title\\\">\\n    <h3 class=\\\"text-secondary\\\">\\n      <span class=\\\"debug-entity-id\\\">[{{operatorWidget.id}}]{{' '}}</span>\\n      {{operatorWidget.operator.title || operatorWidget.operator.type}}</h3>\\n  </div>\\n  <div class=\\\"column-output operator-parameter-container\\\">\\n    <div class=\\\"operator-parameter\\\" *ngFor=\\\"let output of outputs\\\" [attr.data-entity-id]=\\\"output.id\\\"\\n      [attr.data-entity-name]=\\\"output.contextName\\\">\\n      <span class=\\\"debug-entity-id\\\">[{{output.id}}]{{' '}}</span>\\n      {{output.contextName}}\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n    <h5 class=\\\"card-title noselect\\\">\\n      <button class=\\\"expand-button btn btn-secondary btn-sm\\\" (click)=\\\"onExpandButtonClick()\\\">\\n        <fa-icon *ngIf=\\\"isExpanded\\\" [icon]=\\\"faMinus\\\"></fa-icon>\\n        <fa-icon *ngIf=\\\"!isExpanded\\\" [icon]=\\\"faPlus\\\"></fa-icon>\\n      </button>\\n      <div class=\\\"app-text-secondary\\\">{{itemIndex+1}}.{{ ' ' }}</div>\\n      <div class=\\\"debug-entity-id\\\">[{{step.id}}]{{' '}}</div>\\n      <app-editable-wrapper [value]=\\\"step.title\\\" (valueChange)=\\\"onTitleUpdated($event)\\\"></app-editable-wrapper>{{ ' ' }}\\n      <div style=\\\"display:inline-block;width:4px;\\\"></div>\\n      <div class=\\\"app-text-secondary step-type\\\" [hidden]=\\\"isExpanded\\\">{{summary}}</div>\\n    </h5>\\n    <div class=\\\"indented-card-body after-title\\\" [hidden]=\\\"!isExpanded\\\">\\n      <div class=\\\"step-body\\\" *ngIf=\\\"step.type!=='basic'\\\">\\n        <div class=\\\"column-row\\\" [class.isMobile]=\\\"isMobile\\\">\\n          <app-column class=\\\"column\\\" [stepID]=\\\"step.id\\\"\\n            *ngFor=\\\"let column of step.columns; let i = index; trackBy: trackColumn\\\"\\n            [style.width]=\\\"(isMobile || column.widthUnit==='flex') ? '' : (column.width+column.widthUnit)\\\"\\n            [column]=\\\"column\\\" [index]=\\\"i\\\" [editMode]=\\\"editMode\\\">\\n          </app-column>\\n          <div *ngIf=\\\"step.columns.length <= 0\\\" class=\\\"column\\\" [class.isMobile]=\\\"isMobile\\\">\\n            <div class=\\\"alert alert-primary\\\" role=\\\"alert\\\">\\n              <fa-icon [icon]=\\\"faInfoCircle\\\"></fa-icon>\\n              Start by pressing \\\"Add {{this.step.type}}\\\"\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div *ngIf=\\\"step.type==='basic'\\\" [class.isMobile]=\\\"isMobile\\\">\\n        <h6>Select step type:</h6>\\n        <div class=\\\"column step-type-selector\\\" [class.isMobile]=\\\"isMobile\\\" [style.width]=\\\"'100%'\\\">\\n          <button class=\\\"btn btn-secondary\\\" (click)=\\\"onClickTypeSelector('view')\\\">View</button>\\n          <button class=\\\"btn btn-secondary\\\" (click)=\\\"onClickTypeSelector('operator')\\\">Operator</button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"step-buttons toolbar\\\" [hidden]=\\\"!isExpanded\\\">\\n      <div class=\\\"toolbar-default\\\" *ngIf=\\\"editMode === StepEditMode.DEFAULT\\\">\\n        <button class=\\\"btn btn-light\\\" *ngIf=\\\"step.type!=='basic'\\\" (click)=\\\"onClickAddColumn()\\\">Add\\n          {{this.step.type}}</button>{{ ' ' }}\\n        <button class=\\\"btn btn-light\\\" *ngIf=\\\"step.type!=='basic'\\\" (click)=\\\"onClickOrganize()\\\">Organize</button>{{ ' ' }}\\n        <button class=\\\"btn btn-light\\\" (click)=\\\"onClickRemoveStep()\\\">Remove Step</button>\\n      </div>\\n      <div class=\\\"toolbar-organize\\\" *ngIf=\\\"editMode === StepEditMode.ORGANIZE\\\">\\n        <button class=\\\"btn btn-light\\\" *ngIf=\\\"step.type!=='basic'\\\" (click)=\\\"onClickEndOrganize()\\\">End\\n          Organize</button>{{ ' ' }}\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"isNextStop\\\" class=\\\"card\\\">\\n  <div class=\\\"card-body indented-card-body\\\">\\n    <app-button>Next</app-button>\\n  </div>\\n</div>\\n\"","module.exports = \"<textarea [style.height]=\\\"height+'px'\\\" (blur)=\\\"onContentUpdated($event)\\\">{{jsonString}}</textarea>\\n\"","module.exports = \"<textarea [style.height]=\\\"height+'px'\\\" (blur)=\\\"onContentUpdated($event)\\\">{{content}}</textarea>\\n\"","module.exports = \"<div class=\\\"column-input\\\">\\n  <div class=\\\"toolbar\\\" *ngIf=\\\"isOrganizeMode\\\">\\n    <div class=\\\"filler\\\"></div>\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"onClickResizeButton(+1)\\\">\\n      <fa-icon [icon]=\\\"faPlus\\\" size=\\\"xs\\\"></fa-icon>\\n    </button>\\n    <button class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"onClickResizeButton(-1)\\\">\\n      <fa-icon [icon]=\\\"faMinus\\\" size=\\\"xs\\\"></fa-icon>\\n    </button>\\n    <button class=\\\"btn btn-secondary btn-sm\\\" *ngIf=\\\"isOrganizeMode\\\" (click)=\\\"onClickTrash()\\\">\\n      <fa-icon [icon]=\\\"faTrashAlt\\\" size=\\\"xs\\\"></fa-icon>\\n    </button>\\n  </div>\\n  <h6 class=\\\"text-secondary view-title\\\">\\n    <div class=\\\"debug-entity-id\\\">[{{viewWidget.id}}]{{' '}}</div>\\n    <app-editable-wrapper [value]=\\\"viewWidget.view.title\\\" (valueChange)=\\\"onTitleUpdated($event)\\\" wide=\\\"true\\\"></app-editable-wrapper>\\n  </h6>\\n</div>\\n<div class=\\\"view\\\">\\n  <!-- <textarea [style.height]=\\\"height+'px'\\\" (blur)=\\\"onContentUpdated($event)\\\">{{content}}</textarea> -->\\n  <app-textarea-view *ngIf=\\\"viewWidget.view.type === ViewWidgetType.TEXTAREA\\\" [style.height]=\\\"height+'px'\\\"\\n    (valueChange)=\\\"onContentUpdated($event)\\\" [content]=\\\"content\\\"></app-textarea-view>\\n  <app-json-view *ngIf=\\\"viewWidget.view.type === ViewWidgetType.JSON\\\" [style.height]=\\\"height+'px'\\\"\\n    (valueChange)=\\\"onContentUpdated($event)\\\" [content]=\\\"content\\\"></app-json-view>\\n</div>\\n<div class=\\\"column-output\\\"></div>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \".main {\\n  position: relative;\\n  width: 100%;\\n  height: calc(100% - 32px);\\n  background-color: #d6eafd;\\n  margin-top: 55px;\\n}\\n\\nnav {\\n  background-color: #007bff;\\n  color: white;\\n}\\n\\nnav a,\\nnav button {\\n  color: white;\\n}\\n\\n:host {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXHBcXHN3aXNzLXN0cmluZy9zcmNcXGFwcFxcYXBwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL0M6XFxwXFxzd2lzcy1zdHJpbmcvc3JjXFx2YXJpYWJsZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQ0RGOztBRElBO0VBQ0UseUJFWGU7RUZZZixZQUFBO0FDREY7O0FER0U7O0VBRUUsWUFBQTtBQ0RKOztBREtBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vdmFyaWFibGVzJztcblxuLm1haW4ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDMycHgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjE0LCAyMzQsIDI1Myk7XG4gIG1hcmdpbi10b3A6IDU1cHg7XG59XG5cbm5hdiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICRwcmltYXJ5LWNvbG9yO1xuICBjb2xvcjogd2hpdGU7XG5cbiAgYSxcbiAgYnV0dG9uIHtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbn1cblxuOmhvc3Qge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4iLCIubWFpbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMzJweCk7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkNmVhZmQ7XG4gIG1hcmdpbi10b3A6IDU1cHg7XG59XG5cbm5hdiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbm5hdiBhLFxubmF2IGJ1dHRvbiB7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuOmhvc3Qge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59IiwiJGJvb3RzdHJhcC1ibHVlOiAjMDA3YmZmO1xuJG1heGltdW0tYmx1ZTogIzUyQjJDRjtcbiRkYXJrLXNreS1ibHVlOiAjN0VDNENGO1xuJHdpbGQtYmx1ZS15b25kZXI6ICM5Q0FEQ0U7XG4kbGFuZ3VpZC1sYXZlbmRlcjogI0QxQ0ZFMjtcbiRwYWxlLWNoZXN0bnV0OiNENEFGQjk7XG5cblxuJHByaW1hcnktY29sb3I6ICRib290c3RyYXAtYmx1ZTtcbiRzZWNvbmRhcnktY29sb3I6ICRtYXhpbXVtLWJsdWU7XG5cbiJdfQ== */\"","import { Component, HostListener, OnInit } from '@angular/core';\nimport { TABLET_PORTRAIT } from 'src/media';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'swiss-string';\n  isMobile = false;\n\n  ngOnInit() {\n    this.updateDeviceWidth();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: Event) {\n    this.updateDeviceWidth();\n  }\n  updateDeviceWidth() {\n    const innerWidth = window.innerWidth;\n\n    this.isMobile = (innerWidth < TABLET_PORTRAIT);\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ButtonComponent } from './components/button/button.component';\nimport { EditableWrapperComponent } from './components/editable-wrapper/editable-wrapper.component';\nimport { MainComponent } from './main/main.component';\nimport { StepComponent } from './step/step.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { ColumnComponent } from './column/column.component';\nimport { ViewWidgetComponent } from './view-widget/view-widget.component';\nimport { OperatorWidgetComponent } from './operator-widget/operator-widget.component';\nimport { CircleComponent } from './components/circle/circle.component';\nimport { TextareaViewComponent } from './view-widget/textarea-view/textarea-view.component';\nimport { JsonViewComponent } from './view-widget/json-view/json-view.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainComponent,\n    ButtonComponent,\n    StepComponent,\n    EditableWrapperComponent,\n    ColumnComponent,\n    ViewWidgetComponent,\n    OperatorWidgetComponent,\n    CircleComponent,\n    TextareaViewComponent,\n    JsonViewComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    FontAwesomeModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbHVtbi9jb2x1bW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { OperatorWidget, ViewWidget, WidgetConfig, WidgetType } from '../s/Step';\nimport { StepEditMode } from '../step/step.component';\n\n@Component({\n  selector: 'app-column',\n  templateUrl: './column.component.html',\n  styleUrls: ['./column.component.scss']\n})\nexport class ColumnComponent implements OnInit {\n\n  StepEditMode = StepEditMode;\n  @Input() stepID: number;\n  @Input() column: WidgetConfig;\n  @Input() index: number;\n  @Input() editMode: StepEditMode;\n  viewWidget: ViewWidget | null = null;\n  operatorWidget: OperatorWidget | null = null;\n\n  constructor() { }\n\n  ngOnInit() {\n    switch (this.column.type) {\n      case WidgetType.VIEW:\n        this.viewWidget = this.column as ViewWidget;\n        break;\n      case WidgetType.OPERATOR:\n        this.operatorWidget = this.column as OperatorWidget;\n        break;\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvYnV0dG9uL2J1dHRvbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \":host {\\n  display: block;\\n  position: absolute;\\n  border-radius: 50%;\\n  box-sizing: content-box;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9jaXJjbGUvQzpcXHBcXHN3aXNzLXN0cmluZy9zcmNcXGFwcFxcY29tcG9uZW50c1xcY2lyY2xlXFxjaXJjbGUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvY2lyY2xlL2NpcmNsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2lyY2xlL2NpcmNsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbn1cbiIsIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbn0iXX0= */\"","import { Component, ElementRef, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-circle',\n  templateUrl: './circle.component.html',\n  styleUrls: ['./circle.component.scss']\n})\nexport class CircleComponent implements OnInit {\n\n  @Input() color = '#0A0';\n  @Input() borderColor = '#FFF';\n  @Input() radius = 5;\n  constructor(private elementRef: ElementRef<HTMLDivElement>) {\n\n  }\n\n  ngOnInit() {\n    this.elementRef.nativeElement.style.backgroundColor = this.color;\n    this.elementRef.nativeElement.style.border = `5px solid ${this.borderColor}`;\n    this.elementRef.nativeElement.style.marginLeft = `${-this.radius}`;\n    this.elementRef.nativeElement.style.marginTop = `${-this.radius}`;\n    this.elementRef.nativeElement.style.width = `${this.radius * 2}px`;\n    this.elementRef.nativeElement.style.height = `${this.radius * 2}px`;\n  }\n}\n","module.exports = \":host {\\n  padding: 2px 1px;\\n}\\n:host[wide=true] {\\n  display: block;\\n  -webkit-box-flex: 1;\\n          flex-grow: 1;\\n}\\nspan {\\n  background: none;\\n}\\nspan.wide {\\n  display: block;\\n  width: 100%;\\n}\\nspan:hover {\\n  background-color: #EEE;\\n}\\nspan:active {\\n  background-color: #DDD;\\n}\\ninput {\\n  display: block;\\n  width: 100%;\\n  margin: -3px -2px;\\n}\\nfa-icon {\\n  display: inline-block;\\n  padding-left: 4px;\\n  color: #888;\\n  font-size: 0.8em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9lZGl0YWJsZS13cmFwcGVyL0M6XFxwXFxzd2lzcy1zdHJpbmcvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGVkaXRhYmxlLXdyYXBwZXJcXGVkaXRhYmxlLXdyYXBwZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvZWRpdGFibGUtd3JhcHBlci9lZGl0YWJsZS13cmFwcGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBUUUsZ0JBQUE7QUNORjtBRENFO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO1VBQUEsWUFBQTtBQ0NKO0FES0E7RUFRRSxnQkFBQTtBQ1RGO0FESUU7RUFDRSxjQUFBO0VBQ0EsV0FBQTtBQ0ZKO0FET0U7RUFDRSxzQkFBQTtBQ0xKO0FEUUU7RUFDRSxzQkFBQTtBQ05KO0FEV0E7RUFDRSxjQUFBO0VBQ0EsV0FBQTtFQUVBLGlCQUFBO0FDVEY7QURhQTtFQUNFLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNWRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZWRpdGFibGUtd3JhcHBlci9lZGl0YWJsZS13cmFwcGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuXG4gIC8vIHdpZHRoOiAxMDAlO1xuICAmW3dpZGU9dHJ1ZV0ge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgfVxuXG4gIHBhZGRpbmc6IDJweCAxcHg7XG59XG5cbnNwYW4ge1xuICAvLyBwYWRkaW5nOiAycHggMXB4O1xuXG4gICYud2lkZSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICBiYWNrZ3JvdW5kOiBub25lO1xuXG4gICY6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG4gIH1cblxuICAmOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0RERDtcblxuICB9XG59XG5cbmlucHV0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuXG4gIG1hcmdpbjogLTNweCAtMnB4O1xufVxuXG5cbmZhLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmctbGVmdDogNHB4O1xuICBjb2xvcjogIzg4ODtcbiAgZm9udC1zaXplOiAwLjhlbTtcbn1cbiIsIjpob3N0IHtcbiAgcGFkZGluZzogMnB4IDFweDtcbn1cbjpob3N0W3dpZGU9dHJ1ZV0ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgZmxleC1ncm93OiAxO1xufVxuXG5zcGFuIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbn1cbnNwYW4ud2lkZSB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbn1cbnNwYW46aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUVFO1xufVxuc3BhbjphY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjREREO1xufVxuXG5pbnB1dCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAtM3B4IC0ycHg7XG59XG5cbmZhLWljb24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmctbGVmdDogNHB4O1xuICBjb2xvcjogIzg4ODtcbiAgZm9udC1zaXplOiAwLjhlbTtcbn0iXX0= */\"","import { Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\n\n@Component({\n  selector: 'app-editable-wrapper',\n  templateUrl: './editable-wrapper.component.html',\n  styleUrls: ['./editable-wrapper.component.scss']\n})\nexport class EditableWrapperComponent implements OnInit {\n\n  public faEdit = faEdit;\n\n  isEdit = false;\n  isLabelOver = false;\n  @Input() wide = false;\n  @Input() value = '';\n  @Output() valueChange = new EventEmitter<string>();\n\n  @ViewChild('editor', { static: false }) editorElement: ElementRef<HTMLInputElement>;\n  constructor() {\n\n  }\n\n  ngOnInit() {\n  }\n\n  onContentClicked() {\n    this.isEdit = true;\n    this.isLabelOver = false;\n    setTimeout(() => {\n      this.editorElement.nativeElement.focus();\n    }, 100);\n  }\n\n  onMouseEnterLabel() {\n    this.isLabelOver = true;\n  }\n  onMouseLeaveLabel() {\n    this.isLabelOver = false;\n  }\n\n  onEditorEnter() {\n    this.finalizeInput();\n  }\n\n  onEditorBlur() {\n    this.finalizeInput();\n  }\n\n  finalizeInput() {\n\n    this.value = this.editorElement.nativeElement.value;\n    this.isEdit = false;\n    this.valueChange.emit(this.value);\n  }\n}\n","module.exports = \":host {\\n  position: absolute;\\n  width: 100%;\\n  min-height: 100%;\\n  background-color: #EEE;\\n}\\n\\n.steps-editor {\\n  position: relative;\\n}\\n\\n.back {\\n  position: absolute;\\n}\\n\\n.indented-card-body {\\n  margin-left: 50px;\\n  margin-right: 8px;\\n}\\n\\n.indented-card-body.after-title {\\n  padding-top: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFpbi9DOlxccFxcc3dpc3Mtc3RyaW5nL3NyY1xcYXBwXFxtYWluXFxtYWluLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tYWluL21haW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FERUE7RUFDRSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRjs7QURHQTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURFRTtFQUNFLGdCQUFBO0FDQUoiLCJmaWxlIjoic3JjL2FwcC9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG59XG5cbi5zdGVwcy1lZGl0b3Ige1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5iYWNre1xuICBwb3NpdGlvbjphYnNvbHV0ZTtcbn1cblxuXG4uaW5kZW50ZWQtY2FyZC1ib2R5IHtcbiAgbWFyZ2luLWxlZnQ6IDUwcHg7XG4gIG1hcmdpbi1yaWdodDogOHB4O1xuXG4gICYuYWZ0ZXItdGl0bGUge1xuICAgIHBhZGRpbmctdG9wOiAwcHg7XG4gIH1cbn1cbiIsIjpob3N0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLWhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VFRTtcbn1cblxuLnN0ZXBzLWVkaXRvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmJhY2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbi5pbmRlbnRlZC1jYXJkLWJvZHkge1xuICBtYXJnaW4tbGVmdDogNTBweDtcbiAgbWFyZ2luLXJpZ2h0OiA4cHg7XG59XG4uaW5kZW50ZWQtY2FyZC1ib2R5LmFmdGVyLXRpdGxlIHtcbiAgcGFkZGluZy10b3A6IDBweDtcbn0iXX0= */\"","import { AfterContentChecked, Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons';\nimport { SIDEBAR_CROSSING_CONNECTOR_MOMENTUM, SIDEBAR_LEAD, SIDEBAR_WIDTH, SIDEBAR_X } from 'src/constants';\nimport { TABLET_PORTRAIT } from 'src/media';\nimport { hashStringToColor, hashStringToNumber } from 'src/utils';\nimport { Step } from '../s/Step';\nimport { StepsService } from '../s/steps.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit, OnDestroy, AfterContentChecked {\n\n  public faInfoCircle = faInfoCircle;\n  steps: Step[];\n\n  stepsJSON = '';\n  isMobile = false;\n\n  graphWidth = 0;\n  graphHeight = 0;\n  @ViewChild('graph', { static: false }) graphElement: ElementRef<SVGSVGElement>;\n  @ViewChild('front', { static: false }) frontElement: ElementRef<HTMLDivElement>;\n  @ViewChild('back', { static: false }) backElement: ElementRef<HTMLDivElement>;\n  updateGraphInterval = 0;\n\n  constructor(private stepsService: StepsService) {\n    this.stepsService.steps$.subscribe((steps) => {\n      this.steps = steps;\n      this.stepsJSON = JSON.stringify(steps, null, 4);\n      // console.log(this.stepsService.contexts);\n      // console.log(this.stepsService.contextHolders);\n    });\n  }\n\n  ngOnInit() {\n    this.updateDeviceWidth();\n    this.updateGraphInterval = window.setInterval(() => this.updateDataFlowGraph(), 1000);\n  }\n\n  ngOnDestroy() {\n    if (this.updateGraphInterval) {\n      clearInterval(this.updateGraphInterval);\n    }\n  }\n\n\n  ngAfterContentChecked() {\n    this.updateDataFlowGraph();\n  }\n\n  onClickAddStep() {\n    this.stepsService.addStep();\n  }\n\n  trackItem(index: number, item: Step) {\n    return item.id;\n  }\n\n  updateDataFlowGraph() {\n    if (!this.frontElement) { return; }\n    const viewWidgets = document.querySelectorAll('app-view-widget');\n    const operatorWidgets = document.querySelectorAll('app-operator-widget');\n    // console.log('updateDataFlowGraph', viewWidgets, operatorWidgets);\n\n    this.graphWidth = this.frontElement.nativeElement.clientWidth;\n    this.graphHeight = this.frontElement.nativeElement.clientHeight;\n    this.backElement.nativeElement.innerHTML = '';\n    const svg = this.createSVG(this.backElement.nativeElement);\n    const backBB = this.backElement.nativeElement.getBoundingClientRect();\n\n    // draw lines\n    this.stepsService.contexts.forEach((context, beforeStepIndex) => {\n      const { beforeStepID, keys } = context;\n      keys.forEach(({ fromID, toID, name, fromStepIndex }, keyIndex) => {\n        const fromWidgetElement = document.querySelector(`[data-entity-id=\"${fromID}\"]`);\n        const toWidgetElement = document.querySelector(`[data-entity-id=\"${toID}\"]`);\n        if (!fromWidgetElement || !toWidgetElement) { return; }\n        const fromBB = fromWidgetElement.getBoundingClientRect();\n        const toBB = toWidgetElement.getBoundingClientRect();\n\n        if (fromBB.top === 0 && fromBB.left === 0) { return; }\n        if (toBB.top === 0 && toBB.left === 0) { return; }\n\n        const fromPoint = {\n          x: - backBB.left + ((fromBB.left + fromBB.right) / 2),\n          y: - backBB.top + (fromBB.bottom + 4),\n        };\n        if (this.isMobile) {\n          fromPoint.x = - backBB.left + fromBB.left + fromBB.width * (keyIndex + 0.5) / keys.length;\n        }\n        const toPoint = {\n          x: - backBB.left + ((toBB.left + toBB.right) / 2),\n          y: - backBB.top + (toBB.top - 4),\n        };\n        if (this.isMobile) {\n          toPoint.x = - backBB.left + toBB.left + toBB.width * (keyIndex + 0.5) / keys.length;\n        }\n        // console.log(fromWidgetElement, toWidgetElement);\n\n        const line = (() => {\n          if (beforeStepIndex - fromStepIndex <= 1) {\n            return [\n              `M`,\n              `${fromPoint.x} ${fromPoint.y}`,\n              `C`,\n              [\n                `${fromPoint.x} ${fromPoint.y + SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n                `${toPoint.x} ${toPoint.y - SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n                `${toPoint.x} ${toPoint.y}`,\n              ].join(', '),\n            ].join(' ');\n          } else {\n            const escapeX = SIDEBAR_X + hashStringToNumber(name) * SIDEBAR_WIDTH;\n\n            const curve1 = [\n              `${fromPoint.x} ${fromPoint.y + SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n              `${escapeX} ${fromPoint.y + SIDEBAR_LEAD - SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n              `${escapeX} ${fromPoint.y + SIDEBAR_LEAD}`,\n            ].join(', ');\n\n            const curve2 = [\n              `${escapeX} ${toPoint.y - SIDEBAR_LEAD + SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n              `${toPoint.x} ${toPoint.y - SIDEBAR_CROSSING_CONNECTOR_MOMENTUM}`,\n              `${toPoint.x} ${toPoint.y}`,\n            ].join(', ');\n\n            return [\n              `M`, `${fromPoint.x} ${fromPoint.y}`,\n              `C`, curve1,\n              `L`, `${escapeX} ${toPoint.y - SIDEBAR_LEAD}`,\n              `C`, curve2,\n            ].join(' ');\n          }\n        })();\n\n        const pathBG = this.createPath(svg);\n        pathBG.setAttributeNS(null, 'stroke', '#DDD');\n        pathBG.setAttributeNS(null, 'stroke-width', '6');\n        pathBG.setAttributeNS(null, 'd', line);\n        const path = this.createPath(svg);\n        path.setAttributeNS(null, 'stroke', hashStringToColor(name));\n        path.setAttributeNS(null, 'stroke-width', '3');\n        path.setAttributeNS(null, 'd', line);\n\n        const circleIn = this.createPoint(svg);\n        circleIn.setAttributeNS(null, 'fill', hashStringToColor(name));\n        circleIn.setAttributeNS(null, 'cx', '' + fromPoint.x);\n        circleIn.setAttributeNS(null, 'cy', '' + fromPoint.y);\n        const circleOut = this.createPoint(svg);\n        circleOut.setAttributeNS(null, 'fill', hashStringToColor(name));\n        circleOut.setAttributeNS(null, 'cx', '' + toPoint.x);\n        circleOut.setAttributeNS(null, 'cy', '' + toPoint.y);\n      });\n    });\n  }\n\n  createSVG(svgContainer: HTMLDivElement) {\n\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n    svg.setAttributeNS(null, 'id', 'svgDoc');\n    svg.setAttributeNS(null, 'width', '' + this.graphWidth);\n    svg.setAttributeNS(null, 'height', '' + this.graphHeight);\n\n    // const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    // rect.setAttributeNS(null, 'width', '100%');\n    // rect.setAttributeNS(null, 'height', '100%');\n    // rect.setAttributeNS(null, 'stroke', '#000');\n    // rect.setAttributeNS(null, 'stroke-width', '3');\n    // rect.setAttributeNS(null, 'fill', '#AAA');\n    // svg.appendChild(rect);\n\n    svgContainer.appendChild(svg);\n    return svg;\n  }\n  createPath(svg: SVGSVGElement) {\n    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttributeNS(null, 'stroke', '#DDD');\n    path.setAttributeNS(null, 'stroke-width', '3');\n    path.setAttributeNS(null, 'fill', 'transparent');\n    svg.appendChild(path);\n\n    return path;\n  }\n\n  createPoint(svg: SVGSVGElement) {\n    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    circle.setAttributeNS(null, 'r', '7');\n    circle.setAttributeNS(null, 'stroke', '#DDD');\n    circle.setAttributeNS(null, 'stroke-width', '3');\n    circle.setAttributeNS(null, 'fill', '#0A0');\n    svg.appendChild(circle);\n\n    return circle;\n  }\n\n  createRect(svg: SVGSVGElement) {\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rect.setAttributeNS(null, 'stroke', '#EEE');\n    rect.setAttributeNS(null, 'stroke-width', '3');\n    rect.setAttributeNS(null, 'fill', '#0A0');\n    svg.appendChild(rect);\n\n    return rect;\n  }\n\n  createText(svg: SVGSVGElement) {\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n    rect.setAttributeNS(null, 'class', '#EEE');\n    svg.appendChild(rect);\n\n    return rect;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: Event) {\n    this.updateDeviceWidth();\n  }\n  updateDeviceWidth() {\n    const innerWidth = window.innerWidth;\n\n    this.isMobile = (innerWidth < TABLET_PORTRAIT);\n\n  }\n}\n","module.exports = \"h3 {\\n  margin-top: 0.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.operator .operator-title {\\n  border: 1px solid #888;\\n  background-color: white;\\n  text-align: center;\\n}\\n\\n.operator .operator-parameter-container {\\n  display: -webkit-box;\\n  display: flex;\\n}\\n\\n.operator .operator-parameter {\\n  width: 100%;\\n  text-align: center;\\n  margin: 6px;\\n  padding: 2px 6px;\\n  background-color: #DDD;\\n  border-radius: 10000px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvb3BlcmF0b3Itd2lkZ2V0L0M6XFxwXFxzd2lzcy1zdHJpbmcvc3JjXFxhcHBcXG9wZXJhdG9yLXdpZGdldFxcb3BlcmF0b3Itd2lkZ2V0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9vcGVyYXRvci13aWRnZXQvb3BlcmF0b3Itd2lkZ2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtBQ0NGOztBREdFO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0FDQUo7O0FER0U7RUFDRSxvQkFBQTtFQUFBLGFBQUE7QUNESjs7QURJRTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUdBLHNCQUFBO0VBQ0Esc0JBQUE7QUNKSiIsImZpbGUiOiJzcmMvYXBwL29wZXJhdG9yLXdpZGdldC9vcGVyYXRvci13aWRnZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoMyB7XG4gIG1hcmdpbi10b3A6IC41cmVtO1xuICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcbn1cblxuLm9wZXJhdG9yIHtcbiAgLm9wZXJhdG9yLXRpdGxlIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5vcGVyYXRvci1wYXJhbWV0ZXItY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICB9XG5cbiAgLm9wZXJhdG9yLXBhcmFtZXRlciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbjogNnB4O1xuICAgIHBhZGRpbmc6IDJweCA2cHg7XG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgIzg4ODtcbiAgICAvLyBib3JkZXItbGVmdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjREREO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwMDAwcHg7XG4gIH1cblxuICAub3BlcmF0b3ItcGFyYW1ldGVyOmZpcnN0LWNoaWxkIHtcbiAgICAvLyBib3JkZXItbGVmdDogMXB4IHNvbGlkICM4ODg7XG4gIH1cbn1cbiIsImgzIHtcbiAgbWFyZ2luLXRvcDogMC41cmVtO1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG59XG5cbi5vcGVyYXRvciAub3BlcmF0b3ItdGl0bGUge1xuICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLm9wZXJhdG9yIC5vcGVyYXRvci1wYXJhbWV0ZXItY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5vcGVyYXRvciAub3BlcmF0b3ItcGFyYW1ldGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luOiA2cHg7XG4gIHBhZGRpbmc6IDJweCA2cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNEREQ7XG4gIGJvcmRlci1yYWRpdXM6IDEwMDAwcHg7XG59Il19 */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { OperatorConnectors } from '../s/Operator';\nimport { OperatorWidget } from '../s/Step';\n\n@Component({\n  selector: 'app-operator-widget',\n  templateUrl: './operator-widget.component.html',\n  styleUrls: ['./operator-widget.component.scss']\n})\nexport class OperatorWidgetComponent implements OnInit {\n\n  @Input() stepID: number;\n  @Input() operatorWidget: OperatorWidget;\n  @Input() index: number;\n  @Input() isOrganizeMode = false;\n\n  inputs: OperatorConnectors[] = [];\n  outputs: OperatorConnectors[] = [];\n\n  constructor() { }\n\n  ngOnInit() {\n    this.inputs = Object.entries(this.operatorWidget.operator.inputs).map(([k, v]) => v);\n    this.outputs = Object.entries(this.operatorWidget.operator.outputs).map(([k, v]) => v);\n    // console.log(this.inputs, this.outputs);\n  }\n}\n","import { Operator } from './Operator';\nimport { View } from './View';\n\nexport interface DataType {\n  name: string;\n}\n\nexport enum WidthUnit {\n  PIXEL = 'px',\n  PERCENTAGE = '%',\n  flex = 'flex',\n}\n\nexport interface WidgetConfig {\n  id: number;\n  width: number;\n  widthUnit: WidthUnit | string;\n  type: WidgetType;\n}\n\nexport enum WidgetType {\n  BASIC = 'basic',\n  VIEW = 'view',\n  OPERATOR = 'operator',\n}\n\nexport interface Step {\n  id: number;\n  title: string;\n  type: WidgetType;\n  columns: WidgetConfig[];\n}\n\nexport interface ViewWidget extends WidgetConfig {\n  view: View;\n}\n\nexport interface OperatorWidget extends WidgetConfig {\n  operator: Operator;\n}\n\nexport class StepUtils {\n  static createStep(config: Partial<Step>): Step {\n    let result: Step = {\n      id: 0,\n      title: 'Input',\n      type: WidgetType.BASIC,\n      columns: [\n      ],\n    };\n    result = { ...result, ...config };\n\n    return result;\n  }\n\n  static iterateOperators(args: {\n    steps: Step[],\n    viewCallback: (viewWidget: ViewWidget, stepID: number, stepIndex: number) => void,\n    operatorCallback: (operatorWidget: OperatorWidget, stepID: number, stepIndex: number) => void\n  }) {\n    args.steps.forEach((step, stepIndex) => {\n      const { columns, id: stepID } = step;\n      columns.forEach((column) => {\n        switch (column.type) {\n          case WidgetType.VIEW:\n            {\n              args.viewCallback(column as ViewWidget, stepID, stepIndex);\n            }\n            break;\n          case WidgetType.OPERATOR:\n            {\n              args.operatorCallback(column as OperatorWidget, stepID, stepIndex);\n            }\n            break;\n        }\n      });\n    });\n  }\n  static iterateOperatorsOfStep(args: {\n    step: Step, stepID: number, stepIndex: number,\n    viewCallback: (viewWidget: ViewWidget, stepID: number, stepIndex: number) => void,\n    operatorCallback: (operatorWidget: OperatorWidget, stepID: number, stepIndex: number) => void\n  }) {\n    const { step, stepID, stepIndex } = args;\n    const { columns } = step;\n    columns.forEach((column) => {\n      switch (column.type) {\n        case WidgetType.VIEW:\n          {\n            args.viewCallback(column as ViewWidget, stepID, stepIndex);\n          }\n          break;\n        case WidgetType.OPERATOR:\n          {\n            args.operatorCallback(column as OperatorWidget, stepID, stepIndex);\n          }\n          break;\n      }\n    });\n  }\n}\n","export enum ViewWidgetType {\n  TEXTAREA = 'textarea',\n  LIST = 'list',\n  TUPLE_TEXT = 'tupleText',\n  JSON = 'json',\n}\n\nexport interface View {\n  type: ViewWidgetType;\n  title: string;\n  name: string;\n  default: any;\n}\n\n","import { Step, StepUtils } from './Step';\nimport { steps } from './_mockSteps.json'; // './_mockStepsSimple.json';\n\nexport const mockSteps: Step[] = (steps\n  .map((v: any) => StepUtils.createStep(v))\n);\n","declare function require(moduleName: string): any;\n\nexport type OperatorFunction = (args: { [x: string]: any }) => { [x: string]: any };\n\nexport interface OperatorDef {\n  name: string;\n  description: string;\n  inputs: string[];\n  outputs: string[];\n  run: OperatorFunction;\n}\n\nexport const operators: { [x: string]: OperatorDef } = {\n  'csv-split': require('./operators/csv-split').operator as OperatorDef,\n  'handlebars-template': require('./operators/handlebars-template').operator as OperatorDef,\n  'regex-match-rename': require('./operators/regex-match-rename').operator as OperatorDef,\n};\n\n","export const operator = {\n  name: 'csv-split',\n  description: 'split a csv string into tokens, taking account of the presence of quotes',\n  inputs: ['str', 'separatorRegex', 'quotesRegex'],\n  outputs: ['tokens', 'err'],\n  run: ({ str, separatorRegex, quotesRegex }: { str: string, separatorRegex: string, quotesRegex: string }) => {\n    try {\n      // const testCase = '123,2.99,AMO024,Title,  \"Description\\\\\", more info\",,123987564';\n      // const regex = / (?=(?:(?:[^\\\"]|\\\\\")*\\\"(?:[^\\\"]|\\\\\")*\\\")*(?!(?:[^\\\"]|\\\\\")*\\\"))/;\n      const regexStr = `${separatorRegex}(?=(?:(?:[^${quotesRegex}]|\\\\${quotesRegex})*${quotesRegex}(?:[^${quotesRegex}]|\\\\${quotesRegex})*${quotesRegex})*(?!(?:[^${quotesRegex}]|\\\\${quotesRegex})*${quotesRegex}))`;\n      const regex = new RegExp(regexStr, '');\n      const tokens = str.split(regex).map((token, i) => {\n        return (token\n          .replace(new RegExp(`(^${quotesRegex})|(${quotesRegex}$)`, 'g'), '') // remove start and end quotes\n          .replace(new RegExp(`\\\\\\\\(${quotesRegex})`, 'g'), '$1') // remove escaped quotes\n        );\n        // return token;\n      });\n\n      return {\n        tokens,\n        err: 'ok',\n      };\n\n    } catch (e) {\n      return {\n        tokens: null,\n        err: '' + e.toString(),\n      };\n    }\n  },\n};\n\n","import { compile } from 'handlebars';\n\nexport const operator = {\n  name: 'handlebars-template',\n  description: 'Generates text by applying a handlebars template to \"data\"',\n  inputs: ['template', 'data'],\n  outputs: ['result', 'err'],\n  run: ({ template, data }: { template: string, data: object }) => {\n    try {\n      const handlebarDelegate = compile(template);\n      const result = handlebarDelegate(data);\n      return {\n        result,\n        err: 'ok',\n      };\n\n    } catch (e) {\n      return {\n        result: '',\n        err: '' + e.toString(),\n      };\n    }\n  },\n};\n\n","export const operator = {\n  name: 'regex-match-rename',\n  description: 'regex-match and then rename the resulting capture groups',\n  inputs: [\n    'source', // string\n    'regex', // string\n    'names', // string\n  ],\n  outputs: [\n    'result', // object[]\n    'residue', // string\n    'err', // string\n  ],\n  run: ({ source, regex, names }: { source: string, regex: string, names: string }) => {\n    const aliasList = ['_fullMatch', ...names.split('\\n')];\n\n    let splitRegex = /a/;\n    let tokenRegex = /a/;\n    try {\n      splitRegex = new RegExp(regex, 'gm'); // global multiline\n      tokenRegex = new RegExp(regex, 'm'); // multiline\n    } catch (error) {\n      return {\n        result: '',\n        residue: '',\n        err: error.toString(),\n      };\n    }\n    const matchResults = source.match(splitRegex);\n    const residue = source.replace(splitRegex, '');\n\n    const isTotalMatch = residue === '';\n    let matchResultSummary = (matchResults == null ? 'no match' : `${matchResults.length} matches`);\n    if (isTotalMatch) {\n      matchResultSummary += ', full match';\n    } else {\n      matchResultSummary += ', partial match';\n    }\n\n    if (!matchResults || matchResults.length <= 0) {\n      return {\n        result: '',\n        residue: '',\n        err: matchResultSummary,\n      };\n    }\n\n    const tokensList = (matchResults\n      .map((match) => {\n        return tokenRegex.exec(match);\n      })\n      .map((tokens, matchIndex) => {\n        const result: { _matchIndex: number, [x: string]: any } = { _matchIndex: 0 };\n        if (!tokens) { return {}; }\n        tokens.forEach((token, i) => (result[aliasList[i] || i] = token));\n\n        result._matchIndex = matchIndex;\n        result._input = tokens.input;\n        return result;\n      })\n    );\n\n    return {\n      result: tokensList,\n      residue,\n      err: matchResultSummary,\n    };\n  },\n};\n\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, EMPTY, merge, Observable, ReplaySubject, Subject } from 'rxjs';\nimport { map, shareReplay, startWith, tap } from 'rxjs/operators';\nimport { ContextDef, ContextSubjectHolder } from './Context';\nimport { operators } from './operators';\nimport { OperatorWidget, Step, StepUtils, ViewWidget } from './Step';\nimport { StepsService } from './steps.service';\n\nexport interface EntityData {\n  entityID: number;\n  input$: Observable<any>;\n  process$: Observable<any>;\n  output$: Observable<any>;\n  inputUpdated$: Subject<any>;\n}\n\nexport interface EntityDataChange {\n  event: 'create' | 'update' | 'delete';\n  index: number;\n  old: EntityData;\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RuntimeService {\n\n  // entities: { [x: number]: EntityData } = {} as any;\n  // entitiesChangedSource$: Observable<EntityDataChange[]>;\n  // entitiesUpdatesSource$ = new BehaviorSubject<EntityDataChange[]>([]);\n  entitiesChanged$: Observable<{ [x: number]: EntityData }>;\n  entitySubjects: { [x: number]: EntityData } = {} as any;\n\n  operators = operators;\n\n  constructor(private stepsService: StepsService) {\n    this.entitiesChanged$ = this.stepsService.steps$.pipe(\n      map((steps) => this.updateEntitySubjects(steps)),\n      tap((val) => console.log('entitiesChanged')),\n      shareReplay(),\n    );\n    // this.entitiesChangedSource$ = merge(\n    //   this.entitiesUpdatesSource$,\n    //   this.stepsService.steps$.pipe(\n    //     map((steps) => this.updateEntitiesAndDispatchDelta(steps)),\n    //   ),\n    // ).pipe(\n    //   // tap((entityDataChanges) => console.log('entitiesChangedSource$', this.entities)),\n    // );\n    // this.entitiesChanged$ = this.entitiesChangedSource$.pipe(\n    //   map((entityDataChanges) => entityDataChanges.map(entityDataChange => entityDataChange.index)),\n    // );\n  }\n\n  updateEntitySubjects(steps: Step[]) {\n    const contextSubjectHolders: ContextSubjectHolder[] = [{}];\n    StepUtils.iterateOperators({\n      steps,\n      viewCallback: (viewWidget: ViewWidget, stepID: number, stepIndex: number) => {\n        const { id: widgetID, view } = viewWidget;\n        const contextSubjectHolder = { ...contextSubjectHolders[contextSubjectHolders.length - 1] };\n\n        const { name } = view;\n        console.log(`Step ${stepID} view[${widgetID}] ${name} input$ would be`, contextSubjectHolder[name]);\n        const input$ = (contextSubjectHolder[name] || new BehaviorSubject(view.default)).pipe(\n          startWith(view.default),\n          tap((val) => console.log(`${widgetID} view ${name} input$ triggered`, val)),\n          shareReplay(),\n        );\n\n        const inputUpdated$ = new ReplaySubject<any>();\n\n        // const input$ = stepIndex === 0 ? of(view.default) : this.entitySubjects[];\n        const process$ = merge(\n          input$,\n          inputUpdated$.pipe(tap((val) => console.log(`${widgetID} view ${name} inputUpdated$ triggered`, val)))\n        ).pipe(\n          tap((val) => console.log(`${widgetID} view ${name} process$ triggered`, val)),\n          shareReplay(),\n        );\n        const output$ = process$.pipe(\n          tap((val) => console.log(`${widgetID} view ${name} output$ triggered`, val)),\n          shareReplay(),\n        );\n        (output$ as any).name = `${widgetID} output$`;\n\n        output$.subscribe({\n          next: () => console.log(`${widgetID} view ${name} output$ subscribe triggered`),\n          complete: () => console.log(`${widgetID} view complete`)\n        });\n        contextSubjectHolder[name] = output$;\n\n        this.entitySubjects[widgetID] = {\n          entityID: widgetID,\n          input$,\n          process$,\n          output$,\n          inputUpdated$,\n        };\n\n        contextSubjectHolders.push(contextSubjectHolder);\n      },\n      operatorCallback: (operatorWidget: OperatorWidget, stepID: number, stepIndex: number) => {\n        const { id: columnID, operator } = operatorWidget;\n        const { type } = operator;\n\n        const contextSubjectHolder = { ...contextSubjectHolders[contextSubjectHolders.length - 1] };\n\n        const inputList = Object.entries(operator.inputs)\n          .map(([inputKey, { id: widgetID, contextName }], i) => {\n            console.log(`Step ${stepID} operator[${columnID}] ${contextName} input$ would be`, contextSubjectHolder[contextName]);\n            return { inputKey, observable: contextSubjectHolder[contextName] || EMPTY };\n          })\n          // .reduce((obj, { inputKey, observable }) => ({ ...obj, [inputKey]: observable }), {})\n          ;\n\n        console.log('inputList', inputList);\n        const input$: Observable<{ [x: string]: any }> = combineLatest(inputList.map(({ observable }) => observable)).pipe(\n          map((values) => {\n            return inputList.reduce((obj, { inputKey }, i) => ({ ...obj, [inputKey]: values[i] }), {});\n          }),\n          tap((args) => console.log(`${columnID} operator ${type} input$ triggered`, args)),\n        ); // TODO: typescript types\n\n        // const input$ = stepIndex === 0 ? of(view.default) : this.entitySubjects[];\n        const process$: Observable<{ [x: string]: any }> = input$.pipe(\n          tap((args) => console.log(`${columnID} operator ${type} process$ triggered`, args)),\n          map((args) => this.operators[type].run(args)),\n          tap((args) => console.log(`${columnID} operator ${type} process$ completed`, args)),\n        );\n        const output$: Observable<{ [x: string]: any }> = process$.pipe(\n          map((val) => {\n            return Object.entries(operator.outputs)\n              .reduce((obj, [outputKey, { id: widgetID, contextName }]) => {\n                return {\n                  ...obj,\n                  [contextName]: val[outputKey] == null ? '' : val[outputKey],\n                };\n              }, {});\n          }),\n          tap((val) => console.log(`${columnID} operator ${type} output$ triggered`, val)),\n          shareReplay(),\n        );\n        (output$ as any).name = `${columnID} output$`;\n\n        Object.entries(operator.outputs)\n          .forEach(([outputKey, { id: widgetID, contextName }], i) => {\n            contextSubjectHolder[contextName] = output$.pipe(\n              map((val) => val[contextName] == null ? '' : val[contextName]),\n            );\n          });\n        contextSubjectHolders.push(contextSubjectHolder);\n      },\n    });\n\n    (window as any).contextSubjectHolders = contextSubjectHolders; // Debug\n    console.log('this.entitySubjects', this.entitySubjects);\n\n    // this.connectEntitySubjects(steps, this.stepsService.contexts);\n    return this.entitySubjects;\n  }\n\n  connectEntitySubjects(steps: Step[], contexts: ContextDef[]) {\n    contexts.forEach((context) => {\n      const { beforeStepID, keys } = context;\n      keys.forEach((key) => {\n        const { fromID, toID, name } = key;\n        debugger;\n\n        this.entitySubjects[fromID].output$.subscribe((output) => {\n\n          this.entitySubjects[toID].inputUpdated$.next(output);\n        });\n      });\n    });\n  }\n\n  // // also mutates this.entities\n  // updateEntitiesAndDispatchDelta(steps: Step[]) {\n  //   const changedEntities: EntityDataChange[] = [];\n  //   StepUtils.iterateOperators({\n  //     steps,\n  //     viewCallback: (viewWidget: ViewWidget) => {\n  //       const { id: widgetID, view } = viewWidget;\n  //       const entityData: EntityData = this.entities[widgetID] || { contextName: view.name, content: null };\n\n  //       if (!this.entities[widgetID]) {\n  //         changedEntities.push({ event: 'create', index: widgetID, old: { contextName: view.name, content: null } });\n  //         entityData.content = view.default;\n  //       }\n\n  //       this.entities[widgetID] = entityData;\n  //     },\n  //     operatorCallback: (operatorWidget: OperatorWidget) => {\n  //       const { operator } = operatorWidget;\n  //       Object.entries(operator.inputs)\n  //         .forEach(([inputKey, { id: widgetID, contextName }], i) => {\n  //           const entityData: EntityData = this.entities[widgetID] || { contextName, content: null };\n\n  //           if (!this.entities[widgetID]) {\n  //             changedEntities.push({ event: 'create', index: widgetID, old: { contextName, content: null } });\n  //           }\n  //           this.entities[widgetID] = entityData;\n  //         });\n  //       Object.entries(operator.outputs)\n  //         .forEach(([outputKey, { id: widgetID, contextName }], i) => {\n  //           const entityData: EntityData = this.entities[widgetID] || { contextName, content: null };\n\n  //           if (!this.entities[widgetID]) {\n  //             changedEntities.push({ event: 'create', index: widgetID, old: { contextName, content: null } });\n  //           }\n  //           this.entities[widgetID] = entityData;\n  //         });\n  //     },\n  //   });\n  //   return changedEntities;\n  // }\n\n  updateContent(entityID: number, content: any) {\n    console.log('updateContent', entityID, content);\n    this.entitySubjects[entityID].inputUpdated$.next(content);\n    console.log('updateContent done', entityID, content);\n  }\n\n  onClickNext(beforeStepID: number) {\n    console.log(`onClickNext beforeStepID: ${beforeStepID}`);\n\n    // this.stepsService\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, tap } from 'rxjs/operators';\nimport { ContextDef, ContextHolder } from './Context';\nimport { mockSteps } from './mockSteps';\nimport { OperatorConnectors } from './Operator';\nimport { OperatorWidget, Step, StepUtils, ViewWidget, WidgetConfig, WidgetType } from './Step';\nimport { ViewWidgetType } from './View';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StepsService {\n  private stepsSource = new BehaviorSubject<Step[]>(mockSteps);\n  steps$: Observable<Step[]>;\n  entities: (Step | WidgetConfig | OperatorConnectors)[] = [];\n\n  latestStepID = mockSteps.map(s => s.id).reduce((a, v) => Math.max(a, v), 0);\n  contexts: ContextDef[];\n  contextHolders: ContextHolder[];\n\n  constructor() {\n    this.steps$ = this.stepsSource.pipe(\n      tap((steps) => this.updateContexts(steps)),\n      shareReplay(1),\n      tap((steps) => console.log('steps', steps, this.contexts)),\n    );\n  }\n\n  addStep() {\n    const oldSteps = [...this.stepsSource.getValue()];\n\n    oldSteps.push(StepUtils.createStep({ id: this.entities.length, title: 'New Step' }));\n    this.stepsSource.next(oldSteps);\n  }\n\n  updateStep(stepID: number, newValue: Step) {\n    const oldSteps = [...this.stepsSource.getValue()];\n    const positionID = oldSteps.findIndex(step => step.id === stepID);\n    oldSteps[positionID] = StepUtils.createStep(newValue);\n    // console.log('updateStep', stepID, oldSteps[positionID]);\n    this.stepsSource.next(oldSteps);\n  }\n  removeStep(stepID: number) {\n    const oldSteps = [...this.stepsSource.getValue()];\n    const positionID = oldSteps.findIndex(step => step.id === stepID);\n    oldSteps.splice(positionID, 1);\n    this.stepsSource.next(oldSteps);\n  }\n\n  addWidget(stepID: number, widgetType: WidgetType) {\n    let entityID = this.entities.length;\n    const column: WidgetConfig = {\n      id: entityID++,\n      width: 1,\n      widthUnit: 'flex',\n      type: widgetType,\n    };\n\n    switch (widgetType) {\n      case WidgetType.VIEW:\n        {\n          (column as ViewWidget).type = WidgetType.VIEW;\n          (column as ViewWidget).view = {\n            default: 'view',\n            name: 'view',\n            title: 'View',\n            type: 'textarea' as ViewWidgetType,\n          };\n        }\n        break;\n      case WidgetType.OPERATOR:\n        {\n          (column as OperatorWidget).type = WidgetType.OPERATOR;\n          (column as OperatorWidget).operator = {\n            type: 'operator',\n            title: 'operator',\n            inputs: {\n              in: { id: entityID++, contextName: 'context_in' }\n            },\n            outputs: {\n              out: { id: entityID++, contextName: 'context_out' }\n            },\n          };\n        }\n        break;\n    }\n    const targetStep = this.stepsSource.getValue().find(step => step.id === stepID);\n    if (!targetStep) {\n      throw new TypeError(`Step ID \"${stepID}\" not found`);\n    }\n    targetStep.columns.push(column);\n\n    this.updateStep(stepID, targetStep);\n  }\n\n  updateWidget(stepID: number, widgetIndex: number, widget: WidgetConfig) {\n    const targetStep = this.stepsSource.getValue().find(step => step.id === stepID);\n    if (!targetStep) {\n      throw new TypeError(`Step ID \"${stepID}\" not found`);\n    }\n    targetStep.columns[widgetIndex] = widget;\n\n    this.updateStep(stepID, targetStep);\n  }\n\n  updateContexts(steps: Step[]) {\n    this.entities = [];\n    const newContexts: ContextDef[] = [];\n    const contextHolders: ContextHolder[] = [{}]; // holds keys and last-seen widgetID\n    for (let stepIndex = 0; stepIndex < steps.length; stepIndex++) {\n      const step = steps[stepIndex];\n      // const nextStep = steps[i + 1];\n      const { id: stepID, columns, type } = step;\n      // console.log('step', i, id);\n\n      if (this.entities[stepID]) {\n        throw new Error(`Duplicate entityID \"${stepID}\" in index \"${stepIndex}\"`);\n      }\n      this.entities[stepID] = step;\n\n      switch (type) {\n        case WidgetType.VIEW:\n          {\n            const beforeContext = this.updateViewWidgetContext(\n              stepIndex, stepID,\n              columns as ViewWidget[], contextHolders, newContexts,\n              this.entities\n            );\n            newContexts.push(beforeContext);\n          }\n          break;\n        case WidgetType.OPERATOR:\n          {\n            const beforeContext = this.updateOperatorWidgetContext(\n              stepIndex, stepID,\n              columns as OperatorWidget[], contextHolders, newContexts,\n              this.entities\n            );\n            newContexts.push(beforeContext);\n          }\n          break;\n      }\n      // console.log('contextHolder', { ...contextHolder });\n    }\n    // console.log('newContexts', JSON.stringify(newContexts, null, 4));\n    this.contexts = newContexts;\n    this.contextHolders = contextHolders;\n  }\n\n  updateViewWidgetContext(\n    stepIndex: number, stepID: number,\n    columns: ViewWidget[], contextHolders: ContextHolder[], newContexts: ContextDef[],\n    entitiesList: (Step | WidgetConfig | OperatorConnectors)[]\n  ) {\n    // mutates contextHolder and newContexts in place\n    const beforeContext: ContextDef = {\n      beforeStepID: stepID,\n      keys: [],\n    };\n    const contextHolder = { ...contextHolders[contextHolders.length - 1] };\n\n    columns.forEach((column) => {\n      const { id: columnID, type: columnType } = column;\n      const viewWidget = column.view;\n      const { name, title } = viewWidget;\n      // console.log('view', name, columnID);\n\n      if (contextHolder[name]) {\n        const { lastSeenColumnID: lastSeenID, lastSeenStepIndex } = contextHolder[name];\n        beforeContext.keys.push({\n          name,\n          fromStepIndex: lastSeenStepIndex,\n          type: null,\n          fromID: lastSeenID, toID: columnID,\n        });\n      }\n      entitiesList[columnID] = column;\n      contextHolder[name] = { lastSeenColumnID: columnID, lastSeenStepIndex: stepIndex };\n    });\n\n    contextHolders.push(contextHolder);\n    return beforeContext;\n  }\n\n  updateOperatorWidgetContext(\n    stepIndex: number, stepID: number,\n    columns: OperatorWidget[], contextHolders: ContextHolder[], newContexts: ContextDef[],\n    entitiesList: (Step | WidgetConfig | OperatorConnectors)[]\n  ) {\n    // mutates contextHolder and newContexts in place\n    const beforeContext: ContextDef = {\n      beforeStepID: stepID,\n      keys: [],\n    };\n    const contextHolder = { ...contextHolders[contextHolders.length - 1] };\n\n    columns.forEach((column) => {\n      const { id: columnID, type: columnType, operator } = column;\n      const operatorWidget = operator;\n      const { inputs, outputs } = operatorWidget;\n\n      Object.entries(inputs).forEach(([inputKey, { id: connectorID, contextName }]) => {\n        // console.log('operator', contextName, connectorID);\n\n        entitiesList[connectorID] = { id: connectorID, contextName };\n        if (contextHolder[contextName]) {\n          const { lastSeenColumnID: lastSeenID, lastSeenStepIndex } = contextHolder[contextName];\n          beforeContext.keys.push({\n            name: contextName,\n            fromStepIndex: lastSeenStepIndex,\n            type: null,\n            fromID: lastSeenID, toID: connectorID,\n          });\n        }\n        // contextHolder[inputKey] = columnID;\n        // beforeContext.keys.push({ name:inputKey, fromID: columnID, toID: null, type: null });\n      });\n\n      Object.entries(outputs).forEach(([outputKey, { id: connectorID, contextName }]) => {\n        entitiesList[connectorID] = { id: connectorID, contextName };\n        contextHolder[contextName] = { lastSeenColumnID: connectorID, lastSeenStepIndex: stepIndex };\n      });\n    });\n\n    contextHolders.push(contextHolder);\n    return beforeContext;\n  }\n}\n","module.exports = \".card {\\n  background-color: rgba(255, 255, 255, 0.7);\\n}\\n\\n.expand-button {\\n  width: 30px;\\n  margin-right: 20px;\\n}\\n\\n.card-title {\\n  margin-bottom: 0;\\n  color: black;\\n  display: -webkit-box;\\n  display: flex;\\n}\\n\\n.card-title div {\\n  padding: 2px;\\n  padding-right: 4px;\\n}\\n\\n.card-title div.step-type {\\n  font-style: italic;\\n}\\n\\n.card-subtitle {\\n  margin-bottom: 0;\\n  margin-left: 40px;\\n}\\n\\n.card {\\n  margin-top: 4px;\\n  margin-bottom: 4px;\\n}\\n\\n.step-body {\\n  overflow: auto;\\n}\\n\\n.step-body .column-row {\\n  display: -webkit-box;\\n  display: flex;\\n  width: 100%;\\n  margin-left: -4px;\\n  margin-right: -4px;\\n}\\n\\n.step-body .column-row.isMobile {\\n  display: block;\\n  margin-left: 0;\\n  margin-right: 0;\\n}\\n\\n.step-body .column {\\n  margin: 4px;\\n  width: 100%;\\n}\\n\\n.indented-card-body {\\n  margin-left: 50px;\\n  margin-right: 0;\\n}\\n\\n.indented-card-body.after-title {\\n  padding-top: 0px;\\n}\\n\\n.step-buttons {\\n  margin-left: calc(50px - 0.75rem);\\n  padding-top: 0;\\n}\\n\\n.step-type-selector {\\n  margin-left: -4px;\\n  margin-right: -4px;\\n}\\n\\n.step-type-selector button {\\n  width: calc(50% - 8px);\\n  margin: 4px;\\n  height: 100px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3RlcC9DOlxccFxcc3dpc3Mtc3RyaW5nL3NyY1xcYXBwXFxzdGVwXFxzdGVwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zdGVwL3N0ZXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQ0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7QUNDRjs7QURDRTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtBQ0NKOztBRENJO0VBQ0Usa0JBQUE7QUNDTjs7QURJQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUNERjs7QURJQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0UsY0FBQTtBQ0RGOztBREdFO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNESjs7QURHSTtFQUNFLGNBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0ROOztBREtFO0VBQ0UsV0FBQTtFQUNBLFdBQUE7QUNISjs7QURPQTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtBQ0pGOztBRE1FO0VBQ0UsZ0JBQUE7QUNKSjs7QURRQTtFQUNFLGlDQUFBO0VBQ0EsY0FBQTtBQ0xGOztBRFlBO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtBQ1RGOztBRFdFO0VBQ0Usc0JBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtBQ1RKIiwiZmlsZSI6InNyYy9hcHAvc3RlcC9zdGVwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7IC8vcmdiYSgwLCAwLCAwLCAwLjMpO1xufVxuXG4uZXhwYW5kLWJ1dHRvbiB7XG4gIHdpZHRoOiAzMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG59XG5cbi5jYXJkLXRpdGxlIHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgY29sb3I6IGJsYWNrO1xuICBkaXNwbGF5OiBmbGV4O1xuXG4gIGRpdiB7XG4gICAgcGFkZGluZzogMnB4O1xuICAgIHBhZGRpbmctcmlnaHQ6IDRweDtcblxuICAgICYuc3RlcC10eXBlIHtcbiAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICB9XG4gIH1cbn1cblxuLmNhcmQtc3VidGl0bGUge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBtYXJnaW4tbGVmdDogNDBweDtcbn1cblxuLmNhcmQge1xuICBtYXJnaW4tdG9wOiA0cHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbn1cblxuLnN0ZXAtYm9keSB7XG4gIG92ZXJmbG93OiBhdXRvO1xuXG4gIC5jb2x1bW4tcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbi1sZWZ0OiAtNHB4O1xuICAgIG1hcmdpbi1yaWdodDogLTRweDtcblxuICAgICYuaXNNb2JpbGUge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBtYXJnaW4tbGVmdDogMDtcbiAgICAgIG1hcmdpbi1yaWdodDogMDtcbiAgICB9XG4gIH1cblxuICAuY29sdW1uIHtcbiAgICBtYXJnaW46IDRweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuXG4uaW5kZW50ZWQtY2FyZC1ib2R5IHtcbiAgbWFyZ2luLWxlZnQ6IDUwcHg7XG4gIG1hcmdpbi1yaWdodDogMDtcblxuICAmLmFmdGVyLXRpdGxlIHtcbiAgICBwYWRkaW5nLXRvcDogMHB4O1xuICB9XG59XG5cbi5zdGVwLWJ1dHRvbnMge1xuICBtYXJnaW4tbGVmdDogY2FsYyg1MHB4IC0gMC43NXJlbSk7XG4gIHBhZGRpbmctdG9wOiAwO1xuXG4gIC8vIC5idG4tbGlnaHQ6Zmlyc3QtY2hpbGQge1xuICAvLyAgIHBhZGRpbmctbGVmdDogMDtcbiAgLy8gfVxufVxuXG4uc3RlcC10eXBlLXNlbGVjdG9yIHtcbiAgbWFyZ2luLWxlZnQ6IC00cHg7XG4gIG1hcmdpbi1yaWdodDogLTRweDtcblxuICBidXR0b24ge1xuICAgIHdpZHRoOiBjYWxjKDUwJSAtIDhweCk7XG4gICAgbWFyZ2luOiA0cHg7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgfVxufVxuIiwiLmNhcmQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XG59XG5cbi5leHBhbmQtYnV0dG9uIHtcbiAgd2lkdGg6IDMwcHg7XG4gIG1hcmdpbi1yaWdodDogMjBweDtcbn1cblxuLmNhcmQtdGl0bGUge1xuICBtYXJnaW4tYm90dG9tOiAwO1xuICBjb2xvcjogYmxhY2s7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG4uY2FyZC10aXRsZSBkaXYge1xuICBwYWRkaW5nOiAycHg7XG4gIHBhZGRpbmctcmlnaHQ6IDRweDtcbn1cbi5jYXJkLXRpdGxlIGRpdi5zdGVwLXR5cGUge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG59XG5cbi5jYXJkLXN1YnRpdGxlIHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgbWFyZ2luLWxlZnQ6IDQwcHg7XG59XG5cbi5jYXJkIHtcbiAgbWFyZ2luLXRvcDogNHB4O1xuICBtYXJnaW4tYm90dG9tOiA0cHg7XG59XG5cbi5zdGVwLWJvZHkge1xuICBvdmVyZmxvdzogYXV0bztcbn1cbi5zdGVwLWJvZHkgLmNvbHVtbi1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLWxlZnQ6IC00cHg7XG4gIG1hcmdpbi1yaWdodDogLTRweDtcbn1cbi5zdGVwLWJvZHkgLmNvbHVtbi1yb3cuaXNNb2JpbGUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IDA7XG4gIG1hcmdpbi1yaWdodDogMDtcbn1cbi5zdGVwLWJvZHkgLmNvbHVtbiB7XG4gIG1hcmdpbjogNHB4O1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmluZGVudGVkLWNhcmQtYm9keSB7XG4gIG1hcmdpbi1sZWZ0OiA1MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDA7XG59XG4uaW5kZW50ZWQtY2FyZC1ib2R5LmFmdGVyLXRpdGxlIHtcbiAgcGFkZGluZy10b3A6IDBweDtcbn1cblxuLnN0ZXAtYnV0dG9ucyB7XG4gIG1hcmdpbi1sZWZ0OiBjYWxjKDUwcHggLSAwLjc1cmVtKTtcbiAgcGFkZGluZy10b3A6IDA7XG59XG5cbi5zdGVwLXR5cGUtc2VsZWN0b3Ige1xuICBtYXJnaW4tbGVmdDogLTRweDtcbiAgbWFyZ2luLXJpZ2h0OiAtNHB4O1xufVxuLnN0ZXAtdHlwZS1zZWxlY3RvciBidXR0b24ge1xuICB3aWR0aDogY2FsYyg1MCUgLSA4cHgpO1xuICBtYXJnaW46IDRweDtcbiAgaGVpZ2h0OiAxMDBweDtcbn0iXX0= */\"","import { AfterContentChecked, Component, HostListener, Input, OnInit } from '@angular/core';\nimport { faInfoCircle, faMinus, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { TABLET_PORTRAIT } from 'src/media';\nimport { OperatorWidget, Step, ViewWidget, WidgetConfig, WidgetType } from '../s/Step';\nimport { StepsService } from '../s/steps.service';\n\n\nexport enum StepEditMode {\n  DEFAULT = 'default',\n  ORGANIZE = 'organize',\n}\n@Component({\n  selector: 'app-step',\n  templateUrl: './step.component.html',\n  styleUrls: ['./step.component.scss']\n})\nexport class StepComponent implements OnInit, AfterContentChecked {\n\n  public faPlus = faPlus;\n  public faMinus = faMinus;\n  public faInfoCircle = faInfoCircle;\n  StepEditMode = StepEditMode;\n\n  editMode: StepEditMode = StepEditMode.DEFAULT;\n  isExpanded = true;\n  @Input() itemIndex: number;\n  @Input() step: Step;\n\n  @Input() isNextStop: boolean;\n  summary: string;\n\n  isMobile = false;\n\n  constructor(private stepsService: StepsService) { }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterContentChecked() {\n    this.updateDeviceWidth();\n    switch (this.step.type) {\n      case WidgetType.VIEW:\n        this.summary = this.step.columns.map(c => {\n          if (c.type !== WidgetType.VIEW) { return ''; }\n          return (c as ViewWidget).view.title;\n        }).join(', ');\n        break;\n      case WidgetType.OPERATOR:\n        this.summary = '[' + this.step.columns.map(c => {\n          if (c.type !== WidgetType.OPERATOR) { return ''; }\n          return (c as OperatorWidget).operator.title || (c as OperatorWidget).operator.type;\n        }).join(', ') + ']';\n        break;\n      default:\n        this.summary = 'Step';\n    }\n  }\n  onExpandButtonClick() {\n    this.isExpanded = !this.isExpanded;\n  }\n\n  onClickRemoveStep() {\n    this.stepsService.removeStep(this.step.id);\n  }\n\n  onTitleUpdated(val: any) {\n    console.log('onTitleUpdated');\n    this.step.title = val;\n    this.stepsService.updateStep(this.step.id, this.step);\n  }\n\n  trackColumn(index: number, item: WidgetConfig) {\n    return item.id;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: Event) {\n    this.updateDeviceWidth();\n  }\n  updateDeviceWidth() {\n    const innerWidth = window.innerWidth;\n\n    this.isMobile = (innerWidth < TABLET_PORTRAIT);\n\n  }\n\n  onClickTypeSelector(widgetType: string) {\n    this.step.type = widgetType as WidgetType;\n    this.stepsService.updateStep(this.step.id, this.step);\n  }\n\n  changeToEditMode(stepEditMode: StepEditMode) {\n    this.editMode = stepEditMode;\n  }\n\n  onClickOrganize() {\n    this.changeToEditMode(StepEditMode.ORGANIZE);\n  }\n\n  onClickEndOrganize() {\n    this.changeToEditMode(StepEditMode.DEFAULT);\n  }\n\n  onClickAddColumn() {\n    this.stepsService.addWidget(this.step.id, this.step.type);\n  }\n}\n","module.exports = \":host {\\n  display: block;\\n}\\n\\ntextarea {\\n  width: 100%;\\n  height: 100%;\\n  border: none;\\n  border-top: 1px solid #888;\\n  display: block;\\n  resize: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy13aWRnZXQvanNvbi12aWV3L0M6XFxwXFxzd2lzcy1zdHJpbmcvc3JjXFxhcHBcXHZpZXctd2lkZ2V0XFxqc29uLXZpZXdcXGpzb24tdmlldy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdmlldy13aWRnZXQvanNvbi12aWV3L2pzb24tdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3ZpZXctd2lkZ2V0L2pzb24tdmlldy9qc29uLXZpZXcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG50ZXh0YXJlYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM4ODg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICByZXNpemU6IG5vbmU7XG59XG4iLCI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG50ZXh0YXJlYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM4ODg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICByZXNpemU6IG5vbmU7XG59Il19 */\"","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-json-view',\n  templateUrl: './json-view.component.html',\n  styleUrls: ['./json-view.component.scss']\n})\nexport class JsonViewComponent implements OnInit, OnChanges {\n\n  @Input() height: number;\n  @Input() public content: any;\n\n  public jsonString: string;\n  public err: string;\n  @Output() valueChange = new EventEmitter<any>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const changeInContent = changes.content;\n    this.jsonString = JSON.stringify(changeInContent.currentValue, null, 4);\n  }\n\n  onContentUpdated(value: string) {\n    try {\n      const obj = JSON.parse(value);\n      this.valueChange.emit(obj);\n    } catch (e) {\n      this.err = e.toString();\n    }\n  }\n}\n","module.exports = \":host {\\n  display: block;\\n}\\n\\ntextarea {\\n  width: 100%;\\n  height: 100%;\\n  border: none;\\n  border-top: 1px solid #888;\\n  display: block;\\n  resize: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy13aWRnZXQvdGV4dGFyZWEtdmlldy9DOlxccFxcc3dpc3Mtc3RyaW5nL3NyY1xcYXBwXFx2aWV3LXdpZGdldFxcdGV4dGFyZWEtdmlld1xcdGV4dGFyZWEtdmlldy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdmlldy13aWRnZXQvdGV4dGFyZWEtdmlldy90ZXh0YXJlYS12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvdmlldy13aWRnZXQvdGV4dGFyZWEtdmlldy90ZXh0YXJlYS12aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxudGV4dGFyZWEge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjODg4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgcmVzaXplOiBub25lO1xufVxuIiwiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxudGV4dGFyZWEge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjODg4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgcmVzaXplOiBub25lO1xufSJdfQ== */\"","import { Component, EventEmitter, Input, OnInit, Output, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-textarea-view',\n  templateUrl: './textarea-view.component.html',\n  styleUrls: ['./textarea-view.component.scss'],\n})\nexport class TextareaViewComponent implements OnInit {\n\n  @Input() height: number;\n  @Input() public content: any;\n  @Output() valueChange = new EventEmitter<any>();\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onContentUpdated(value: string) {\n    this.valueChange.emit(value);\n  }\n}\n","module.exports = \":host {\\n  border: 1px solid #888;\\n  display: block;\\n  padding: 4px;\\n  background: white;\\n}\\n\\nh6 {\\n  margin-left: 2px;\\n  margin-right: 2px;\\n  margin-top: 4px;\\n  margin-bottom: 2px;\\n}\\n\\n.view-title {\\n  background-color: white;\\n  width: 100%;\\n  text-align: center;\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.toolbar {\\n  display: -webkit-box;\\n  display: flex;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy13aWRnZXQvQzpcXHBcXHN3aXNzLXN0cmluZy9zcmNcXGFwcFxcdmlldy13aWRnZXRcXHZpZXctd2lkZ2V0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC92aWV3LXdpZGdldC92aWV3LXdpZGdldC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHNCQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC92aWV3LXdpZGdldC92aWV3LXdpZGdldC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgYm9yZGVyOiAxcHggc29saWQgIzg4ODtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBhZGRpbmc6IDRweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG59XG5cbmg2IHtcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIG1hcmdpbi10b3A6IDRweDtcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xufVxuXG4udmlldy10aXRsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG5cbi50b29sYmFyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbnRleHRhcmVhIHtcbn1cbiIsIjpob3N0IHtcbiAgYm9yZGVyOiAxcHggc29saWQgIzg4ODtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBhZGRpbmc6IDRweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG59XG5cbmg2IHtcbiAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIG1hcmdpbi10b3A6IDRweDtcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xufVxuXG4udmlldy10aXRsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICB3aWR0aDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG5cbi50b29sYmFyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */\"","import { Component, ElementRef, Input, OnInit } from '@angular/core';\nimport { faMinus, faPlus, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Observable } from 'rxjs';\nimport { RuntimeService } from '../s/runtime.service';\nimport { ViewWidget, WidgetType } from '../s/Step';\nimport { StepsService } from '../s/steps.service';\nimport { map } from 'rxjs/operators';\nimport { ViewWidgetType } from '../s/View';\n\n@Component({\n  selector: 'app-view-widget',\n  templateUrl: './view-widget.component.html',\n  styleUrls: ['./view-widget.component.scss']\n})\nexport class ViewWidgetComponent implements OnInit {\n\n  public faPlus = faPlus;\n  public faMinus = faMinus;\n  public faTrashAlt = faTrashAlt;\n  public ViewWidgetType = ViewWidgetType;\n\n  @Input() stepID: number;\n  @Input() viewWidget: ViewWidget;\n  @Input() index: number;\n  @Input() isOrganizeMode = false;\n\n  content: any;\n\n  height = 300;\n\n  entityRuntimeData$: Observable<any>;\n\n  constructor(private stepsService: StepsService, private runtimeService: RuntimeService, private elementRef: ElementRef<HTMLDivElement>) {\n  }\n\n  ngOnInit() {\n    // merge(\n    //   this.runtimeService.entitiesChanged$.pipe(\n    //     // tap((a) => console.log('entityRuntimeData', [...a], this.viewWidget.id)),\n    //     filter((changedIndexes) => changedIndexes.some(index => index === this.viewWidget.id)),\n    //   ),\n    //   this.stepsService.steps$.pipe(take(1)),\n    // ).subscribe(() => {\n    //   // console.log('entityRuntimeData', this.viewWidget.id)),\n    //   this.content = this.runtimeService.entities[this.viewWidget.id].content;\n    // });\n    this.runtimeService.entitiesChanged$.subscribe((entitySubjects) => {\n      entitySubjects[this.viewWidget.id].input$.subscribe((content) => {\n        this.content = content;\n      });\n    });\n  }\n\n  onTitleUpdated(value: string) {\n    this.viewWidget.view.title = value;\n    this.stepsService.updateWidget(this.stepID, this.index, this.viewWidget);\n  }\n\n  onContentUpdated({ target }: Event) {\n    this.runtimeService.updateContent(this.viewWidget.id, (target as HTMLTextAreaElement).value);\n  }\n\n  elGetBoundingClientRect() {\n    return this.elementRef.nativeElement.getBoundingClientRect();\n  }\n\n  onClickResizeButton(delta: number) {\n    if (delta < 0) { this.height = Math.max(100, this.height - 100); }\n    if (delta > 0) { this.height += 100; }\n  }\n\n  onClickTrash() {\n    console.log('onClickTrash stub');\n  }\n}\n","export const LINE_COLOR_SATURATION = 0.7;\nexport const LINE_COLOR_LIGHTNESS = 0.5;\n\nexport const SIDEBAR_X = 14;\nexport const SIDEBAR_WIDTH = 40;\nexport const SIDEBAR_LEAD = 120;\nexport const SIDEBAR_CROSSING_CONNECTOR_MOMENTUM = 100;\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport 'hammerjs';\nimport { AppModule } from './app/app.module';\n// import './app/s/use-operators';\nimport { environment } from './environments/environment';\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","// less than\nexport const MOBILE = 480; // Mobile-landscape (and larger)\nexport const TABLET_PORTRAIT = 768; // Tablet-portrait (and larger)\nexport const TABLET_LANDSCAPE = 992; // Tablet-landscape (and larger)\nexport const DESKTOP = 1200; // Laptops (and langer)\n","import { LINE_COLOR_LIGHTNESS, LINE_COLOR_SATURATION } from './constants';\n\nexport function djb2(str: string) {\n  let hash = 5381;\n  for (let i = 0; i < str.length; i++) {\n    // tslint:disable-next-line: no-bitwise\n    hash = ((hash << 5) + hash) + str.charCodeAt(i); /* hash * 33 + c */\n  }\n  return hash;\n}\n\nexport function hashStringToNumber(str: string) {\n  const hash = djb2(str);\n  const result = (Math.abs(hash)) / 17179869180;\n  return result;\n}\nexport function hashStringToColor(str: string) {\n  const [r, g, b] = hslToRgb(hashStringToNumber(str), LINE_COLOR_SATURATION, LINE_COLOR_LIGHTNESS);\n  return [\n    '#',\n    ('0' + r.toString(16)).substr(-2),\n    ('0' + g.toString(16)).substr(-2),\n    ('0' + b.toString(16)).substr(-2),\n  ].join('');\n}\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n */\nfunction hslToRgb(h: number, s: number, l: number) {\n\n  function hue2rgb(p: number, q: number, t: number) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1 / 6) { return p + (q - p) * 6 * t; }\n    if (t < 1 / 2) { return q; }\n    if (t < 2 / 3) { return p + (q - p) * (2 / 3 - t) * 6; }\n    return p;\n  }\n  let r;\n  let g;\n  let b;\n\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n}\n"],"sourceRoot":""}