<div class="card">
  <div class="card-body">
    <h5 class="card-title">
      <button class="expand-button btn btn-outline-secondary btn-sm" (click)="onExpandButtonClick()">
        {{isExpanded ? '-' : '+' }}
      </button>
      <span class="app-text-secondary">{{itemIndex}}.{{ ' ' }}</span>
      <span class="debug-entity-id">[{{step.id}}]{{' '}}</span>
      <app-editable-wrapper [value]="step.title" (valueChange)="onTitleUpdated($event)"></app-editable-wrapper>{{ ' ' }}
      <span style="display:inline-block;width:4px;"></span>
      <span class="app-text-secondary step-type" [hidden]="isExpanded">{{summary}}</span>
    </h5>
  </div>
  <div class="card-body step-body" [class.isMobile]="isMobile" [hidden]="!isExpanded">
    <app-column class="column" [class.isMobile]="isMobile" [stepID]="step.id"
      *ngFor="let column of step.columns; let i = index; trackBy: trackColumn"
      [style.width]="isMobile ? '' : (column.width+column.widthUnit)" [column]="column" [index]="i">
    </app-column>
  </div>
  <div class="card-body step-buttons" [hidden]="!isExpanded">
    <a href="#" class="btn btn-primary">Next</a>{{ ' ' }}
    <a href="#" class="btn btn-light">Add {{this.step.type}}</a>{{ ' ' }}
    <a href="#" class="btn btn-light">Organize</a>{{ ' ' }}
    <a href="#" class="btn btn-light" (click)="onClickRemoveStep()">Remove Step</a>
  </div>
</div>
